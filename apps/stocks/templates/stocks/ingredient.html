{% extends "stocks/base.html" %}
{% load i18n unit_tags %}

{% block jumbotron %}
    <a href="#"
        class="btn btn-success btn-lg pull-right modal_open"
        data-modal-title="{% trans "Add" %} {% trans ingredient_term %}"
        data-modal-url="{% url "stock_ingredient_add" ingredient %}"><span class="glyphicon glyphicon-plus"></span> {% trans "Add" %}</a>
{% endblock jumbotron %}


{% block title %}
    {% trans ingredient_term %}
{% endblock title %}


{% block content %}
    <table class="table">
    {% for object in object_list %}
        {% if forloop.first %}
            <thead>
                <tr>
                    <th>{% trans "Ingredient" %}</th>
                    <th>{% trans "Amount" %}</th>
                    <th>{% trans "Date added" %}</th>
                    <th class="text-right">{% trans "Actions" %}</th>
                </tr>
            </thead>
        {% endif %}

        <tr>
            <td>
                {{ object.name }}
                ({{ object.origin }})
            </td>
            <td>
                {% local_unit "weight" object.stock_amount 0 %}
            </td>
            <td>
                {{ object.stock_added|default:"" }}
            </td>
            <td>
                <div class="btn-group pull-right">
                    <a href="#" 
                        class="btn btn-success btn-sm modal_open"
                        data-modal-title="{% trans "Update" %} {{ object.malt }}" 
                        data-modal-url="{% url "stock_ingredient_edit" "malt" object.id %}">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </a>
                    <a class="btn btn-danger btn-sm" href="{% url "stock_ingredient_delete" "malt" object.id %}">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </a>
                </div>
            </td>
        </tr>
    {% empty %}
        <tr>
            <td>
                <div class="lead well text-center">
                    {% trans "Nothing here ...  :(" %} <br>
                    {% trans "Start by clicking on the \"add\" button above" %}
                </div>
            </td>
        </tr>
    {% endfor %}
    </table>
{% endblock content %}

